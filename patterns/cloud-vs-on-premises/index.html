
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://vault.axonshield.com/patterns/cloud-vs-on-premises/">
      
      
        <link rel="prev" href="../ca-hierarchies/">
      
      
        <link rel="next" href="../high-availability-disaster-recovery/">
      
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.23">
    
    
      
        <title>Cloud vs On-Premises - Shield Vault</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


    
    
    
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WJXPDRF2');</script>
  <!-- End Google Tag Manager -->
  
  <!-- Apollo Tracking -->
  <script>
    (function() {
      var apolloScript = document.createElement('script');
      apolloScript.type = 'text/javascript';
      apolloScript.async = true;
      apolloScript.src = 'https://cdn.apollo.io/v1/apollo.js';
      apolloScript.setAttribute('data-apollo-id', '68b8b91c5e883f0021f7f7aa');
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(apolloScript, s);
    })();
  </script>
  <!-- End Apollo Tracking -->

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cloud-vs-on-premises" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Shield Vault" class="md-header__button md-logo" aria-label="Shield Vault" data-md-component="logo">
      
  <img src="../../assets/axon-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Shield Vault
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Cloud vs On-Premises
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="white" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Foundations for Infrastructure Intelligence - Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../book/" class="md-tabs__link">
        
  
  
    
  
  Book

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../glossary/" class="md-tabs__link">
        
  
  
    
  
  Glossary

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../architecture/zero-trust-architecture/" class="md-tabs__link">
          
  
  
  Architecture

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../foundations/certificate-anatomy/" class="md-tabs__link">
          
  
  
  Foundations

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../implementation/acme-protocol-implementation/" class="md-tabs__link">
          
  
  
  Implementation

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../operations/certificate-lifecycle-management/" class="md-tabs__link">
          
  
  
  Operations

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../ca-hierarchies/" class="md-tabs__link">
          
  
  
  Patterns

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../security/compliance-and-audit/" class="md-tabs__link">
          
  
  
  Security

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../standards/acme-protocol/" class="md-tabs__link">
          
  
  
  Standards

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Shield Vault" class="md-nav__button md-logo" aria-label="Shield Vault" data-md-component="logo">
      
  <img src="../../assets/axon-logo.png" alt="logo">

    </a>
    Shield Vault
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Foundations for Infrastructure Intelligence - Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../book/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Book
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/zero-trust-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Zero-Trust Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Foundations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Foundations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../foundations/certificate-anatomy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Certificate Anatomy
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../foundations/cryptographic-primitives/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cryptographic Primitives
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../foundations/public-private-key-pairs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Public-Private Key Pairs
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../foundations/trust-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Trust Models
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../foundations/what-is-pki/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    What is PKI?
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Implementation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Implementation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../implementation/acme-protocol-implementation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ACME Protocol Implementation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../implementation/ca-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CA Architecture
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../implementation/certificate-issuance-workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Certificate Issuance Workflows
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../implementation/hsm-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HSM Integration
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../implementation/multi-cloud-pki/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multi-Cloud PKI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Operations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Operations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/certificate-lifecycle-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Certificate Lifecycle Management
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/certificate-rotation-strategies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Certificate Rotation Strategies
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/inventory-and-discovery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inventory and Discovery
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/monitoring-and-alerting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Monitoring and Alerting
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/renewal-automation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Renewal Automation
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Patterns
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Patterns
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ca-hierarchies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CA Hierarchies
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Cloud vs On-Premises
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Cloud vs On-Premises
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-models" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment Models
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deployment Models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pure-on-premises" class="md-nav__link">
    <span class="md-ellipsis">
      Pure On-Premises
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pure-cloud" class="md-nav__link">
    <span class="md-ellipsis">
      Pure Cloud
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hybrid-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Hybrid Architecture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloud-provider-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Cloud Provider Considerations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cloud Provider Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aws-pki-services" class="md-nav__link">
    <span class="md-ellipsis">
      AWS PKI Services
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#azure-pki-services" class="md-nav__link">
    <span class="md-ellipsis">
      Azure PKI Services
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gcp-pki-services" class="md-nav__link">
    <span class="md-ellipsis">
      GCP PKI Services
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture Patterns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Architecture Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#root-ca-on-premises-issuing-ca-in-cloud" class="md-nav__link">
    <span class="md-ellipsis">
      Root CA On-Premises, Issuing CA in Cloud
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully-cloud-native-pki" class="md-nav__link">
    <span class="md-ellipsis">
      Fully Cloud-Native PKI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-cloud-pki" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-Cloud PKI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cost-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Cost Comparison
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cost Comparison">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#on-premises-costs" class="md-nav__link">
    <span class="md-ellipsis">
      On-Premises Costs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloud-costs-aws-example" class="md-nav__link">
    <span class="md-ellipsis">
      Cloud Costs (AWS Example)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cost-crossover-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      Cost Crossover Analysis
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-trade-offs" class="md-nav__link">
    <span class="md-ellipsis">
      Security Trade-offs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Security Trade-offs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#physical-security" class="md-nav__link">
    <span class="md-ellipsis">
      Physical Security
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compliance-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Compliance Considerations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migration-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      Migration Strategies
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Migration Strategies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#on-premises-to-cloud" class="md-nav__link">
    <span class="md-ellipsis">
      On-Premises to Cloud
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloud-to-on-premises-less-common" class="md-nav__link">
    <span class="md-ellipsis">
      Cloud to On-Premises (Less Common)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../high-availability-disaster-recovery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    High Availability and Disaster Recovery
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../multi-tenancy-considerations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multi-Tenancy Considerations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Security
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Security
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/compliance-and-audit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Compliance and Audit
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/incident-response/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Incident Response
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/key-management-best-practices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Key Management Best Practices
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/private-key-protection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Private Key Protection
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/threat-models-and-attack-vectors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Threat Models and Attack Vectors
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Standards
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Standards
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../standards/acme-protocol/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ACME Protocol
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../standards/ocsp-and-crl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OCSP and CRL
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../standards/pkcs-standards/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PKCS Standards
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../standards/tls-protocol/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TLS Protocol
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../standards/x509-standard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    X.509 Standard
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-models" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment Models
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deployment Models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pure-on-premises" class="md-nav__link">
    <span class="md-ellipsis">
      Pure On-Premises
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pure-cloud" class="md-nav__link">
    <span class="md-ellipsis">
      Pure Cloud
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hybrid-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Hybrid Architecture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloud-provider-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Cloud Provider Considerations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cloud Provider Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aws-pki-services" class="md-nav__link">
    <span class="md-ellipsis">
      AWS PKI Services
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#azure-pki-services" class="md-nav__link">
    <span class="md-ellipsis">
      Azure PKI Services
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gcp-pki-services" class="md-nav__link">
    <span class="md-ellipsis">
      GCP PKI Services
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture Patterns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Architecture Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#root-ca-on-premises-issuing-ca-in-cloud" class="md-nav__link">
    <span class="md-ellipsis">
      Root CA On-Premises, Issuing CA in Cloud
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully-cloud-native-pki" class="md-nav__link">
    <span class="md-ellipsis">
      Fully Cloud-Native PKI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-cloud-pki" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-Cloud PKI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cost-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Cost Comparison
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cost Comparison">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#on-premises-costs" class="md-nav__link">
    <span class="md-ellipsis">
      On-Premises Costs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloud-costs-aws-example" class="md-nav__link">
    <span class="md-ellipsis">
      Cloud Costs (AWS Example)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cost-crossover-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      Cost Crossover Analysis
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-trade-offs" class="md-nav__link">
    <span class="md-ellipsis">
      Security Trade-offs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Security Trade-offs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#physical-security" class="md-nav__link">
    <span class="md-ellipsis">
      Physical Security
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compliance-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Compliance Considerations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migration-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      Migration Strategies
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Migration Strategies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#on-premises-to-cloud" class="md-nav__link">
    <span class="md-ellipsis">
      On-Premises to Cloud
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloud-to-on-premises-less-common" class="md-nav__link">
    <span class="md-ellipsis">
      Cloud to On-Premises (Less Common)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WJXPDRF2"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  
  <!-- Right sidebar with disclaimer above TOC -->
  
    <style>
      @media screen and (min-width: 76.25em) {
        .md-sidebar--secondary {
          order: 1;
        }
        .md-sidebar--secondary::before {
          content: '';
          display: block;
          margin-bottom: 1rem;
        }
      }
    </style>
  
  
  
                  



<h1 id="cloud-vs-on-premises">Cloud vs On-Premises</h1>
<h2 id="overview">Overview</h2>
<p>The cloud versus on-premises decision for PKI infrastructure is not binary—most organizations end up with hybrid architectures that leverage strengths of both models. This decision impacts security posture, operational complexity, cost structure, and compliance requirements. Unlike application workloads that easily move to cloud, PKI has unique constraints around trust, key custody, and regulatory requirements that make the decision more nuanced.</p>
<p><strong>Core principle</strong>: PKI deployment location should be driven by security requirements, regulatory constraints, and operational capabilities—not by blanket "cloud-first" or "on-prem only" mandates.</p>
<h2 id="deployment-models">Deployment Models</h2>
<h3 id="pure-on-premises">Pure On-Premises</h3>
<p>All PKI infrastructure in company-controlled data centers:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>                Corporate Datacenter
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    ┌───────────────────────────────────────┐
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    │  ┌─────────┐  ┌──────────┐           │
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    │  │Root CA  │  │Issuing CA│           │
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    │  │(Offline)│  │ Servers  │           │
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    │  └────┬────┘  └─────┬────┘           │
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    │       │             │                │
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    │  ┌────▼─────────────▼────┐          │
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    │  │   Physical HSM         │          │
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    │  └────────────────────────┘          │
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    │                                      │
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    │  Company Network / DMZ               │
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>    └───────────────────────────────────────┘
</code></pre></div>
<p><strong>Advantages</strong>:
- Complete physical control
- No data leaves organization
- Custom hardware configurations
- No vendor lock-in for infrastructure
- Compliance with data residency requirements
- Air-gap root CA from internet</p>
<p><strong>Disadvantages</strong>:
- High capital expenditure
- Operational overhead
- Scaling challenges
- Single datacenter = single point of failure (unless multi-DC)
- Hardware refresh burden
- Requires specialized staff</p>
<p><strong>When to choose</strong>:
- Regulatory requirements mandate on-premises (some government, defense)
- High-value root CA requiring air-gap
- Organization has mature datacenter operations
- Existing on-premises infrastructure and expertise
- Data sovereignty requirements</p>
<h3 id="pure-cloud">Pure Cloud</h3>
<p>All PKI infrastructure in public cloud (AWS, Azure, GCP):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>                 AWS / Azure / GCP
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>    ┌───────────────────────────────────────┐
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>    │  ┌─────────────┐  ┌──────────────┐   │
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>    │  │  Root CA    │  │  Issuing CA  │   │
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>    │  │  (Offline   │  │   Servers    │   │
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    │  │   EC2/VM)   │  │   (Auto-    │   │
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>    │  └──────┬──────┘  │   scaling)  │   │
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>    │         │         └──────┬───────┘   │
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>    │         │                │           │
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>    │  ┌──────▼────────────────▼────────┐  │
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>    │  │   Cloud HSM (AWS CloudHSM,    │  │
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>    │  │   Azure Dedicated HSM)        │  │
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>    │  └───────────────────────────────┘  │
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>    │                                     │
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>    │  Cloud VPC / Virtual Network        │
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>    └───────────────────────────────────────┘
</code></pre></div>
<p><strong>Advantages</strong>:
- Elastic scaling
- Pay-as-you-go pricing
- Managed services reduce operational burden
- High availability built-in
- Global distribution easier
- Fast deployment</p>
<p><strong>Disadvantages</strong>:
- Less physical control
- Cloud provider access to infrastructure
- Vendor lock-in
- Compliance questions for some industries
- Cost can be unpredictable at scale
- Internet-connected (root CA challenges)</p>
<p><strong>When to choose</strong>:
- Cloud-native organization
- Rapid deployment needed
- Variable workload (scaling requirements)
- Limited infrastructure team
- Multi-region deployment required
- Cost-conscious with predictable workloads</p>
<h3 id="hybrid-architecture">Hybrid Architecture</h3>
<p>Combination of on-premises and cloud:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>    On-Premises                       Cloud (AWS/Azure/GCP)
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>┌──────────────────────┐         ┌──────────────────────────┐
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>│  ┌────────────┐      │         │  ┌─────────────────┐     │
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>│  │  Root CA   │      │         │  │   Issuing CAs   │     │
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>│  │ (Offline)  │      │         │  │   (Automated)   │     │
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>│  │            │      │         │  │                 │     │
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>│  │  Physical  │      │         │  └────────┬────────┘     │
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>│  │    HSM     │      │         │           │              │
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>│  └────────────┘      │         │  ┌────────▼────────┐     │
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>│                      │         │  │   Cloud HSM     │     │
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>│  Secure Facility     │         │  │  (CloudHSM,     │     │
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>│                      │         │  │   Key Vault)    │     │
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>└──────────────────────┘         └──────────────────────────┘
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>         │                                    │
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>         └──────── Certificate Signing ───────┘
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>                   (Offline Ceremony)
</code></pre></div>
<p><strong>Characteristics</strong>:
- Root CA on-premises (offline, air-gapped)
- Issuing CAs in cloud (online, operational)
- Root signs intermediates during ceremonies
- Day-to-day operations in cloud</p>
<p><strong>Advantages</strong>:
- Root CA security (air-gapped on-premises)
- Operational agility (cloud issuing CAs)
- Compliance (root CA physical control)
- Scalability (cloud infrastructure)
- Best of both models</p>
<p><strong>Disadvantages</strong>:
- Most complex to operate
- Requires expertise in both models
- Coordination overhead
- Higher total cost (both on-prem and cloud)</p>
<p><strong>When to choose</strong>:
- Most organizations (recommended default)
- Need root CA security with operational flexibility
- Compliance requires root CA control
- Want cloud benefits for issuing infrastructure</p>
<h2 id="cloud-provider-considerations">Cloud Provider Considerations</h2>
<h3 id="aws-pki-services">AWS PKI Services</h3>
<p><strong>AWS Certificate Manager (ACM)</strong>:
- Fully managed certificate service
- Free certificates for AWS resources
- Automatic renewal
- Integration with ELB, CloudFront, API Gateway</p>
<p>Limitations:
- Certificates only usable within AWS
- Cannot export private keys
- Limited control over certificate properties
- Not suitable for general-purpose PKI</p>
<p><strong>AWS Private CA</strong>:
- Managed private certificate authority
- Pay per certificate issued
- Integration with AWS services
- Can issue certificates for any purpose</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">AWSPrivateCA</span><span class="p">:</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="sd">    AWS Private CA implementation</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">acm_pca</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;acm-pca&#39;</span><span class="p">)</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_private_ca</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ca_config</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="sd">        Create AWS Private CA</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">acm_pca</span><span class="o">.</span><span class="n">create_certificate_authority</span><span class="p">(</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>            <span class="n">CertificateAuthorityConfiguration</span><span class="o">=</span><span class="p">{</span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>                <span class="s1">&#39;KeyAlgorithm&#39;</span><span class="p">:</span> <span class="s1">&#39;RSA_2048&#39;</span><span class="p">,</span>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>                <span class="s1">&#39;SigningAlgorithm&#39;</span><span class="p">:</span> <span class="s1">&#39;SHA256WITHRSA&#39;</span><span class="p">,</span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>                <span class="s1">&#39;Subject&#39;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>                    <span class="s1">&#39;Country&#39;</span><span class="p">:</span> <span class="n">ca_config</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">],</span>
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>                    <span class="s1">&#39;Organization&#39;</span><span class="p">:</span> <span class="n">ca_config</span><span class="p">[</span><span class="s1">&#39;organization&#39;</span><span class="p">],</span>
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>                    <span class="s1">&#39;OrganizationalUnit&#39;</span><span class="p">:</span> <span class="n">ca_config</span><span class="p">[</span><span class="s1">&#39;ou&#39;</span><span class="p">],</span>
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>                    <span class="s1">&#39;CommonName&#39;</span><span class="p">:</span> <span class="n">ca_config</span><span class="p">[</span><span class="s1">&#39;common_name&#39;</span><span class="p">]</span>
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>                <span class="p">}</span>
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>            <span class="p">},</span>
<a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a>            <span class="n">CertificateAuthorityType</span><span class="o">=</span><span class="s1">&#39;SUBORDINATE&#39;</span><span class="p">,</span>  <span class="c1"># or &#39;ROOT&#39;</span>
<a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>            <span class="n">Tags</span><span class="o">=</span><span class="p">[</span>
<a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a>                <span class="p">{</span><span class="s1">&#39;Key&#39;</span><span class="p">:</span> <span class="s1">&#39;Environment&#39;</span><span class="p">,</span> <span class="s1">&#39;Value&#39;</span><span class="p">:</span> <span class="s1">&#39;production&#39;</span><span class="p">},</span>
<a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a>                <span class="p">{</span><span class="s1">&#39;Key&#39;</span><span class="p">:</span> <span class="s1">&#39;ManagedBy&#39;</span><span class="p">,</span> <span class="s1">&#39;Value&#39;</span><span class="p">:</span> <span class="s1">&#39;terraform&#39;</span><span class="p">}</span>
<a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a>            <span class="p">]</span>
<a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a>        <span class="p">)</span>
<a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a>
<a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a>        <span class="n">ca_arn</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;CertificateAuthorityArn&#39;</span><span class="p">]</span>
<a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a>        <span class="k">return</span> <span class="n">ca_arn</span>
<a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a>
<a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">issue_certificate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ca_arn</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">csr</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">):</span>
<a id="__codelineno-3-35" name="__codelineno-3-35" href="#__codelineno-3-35"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-3-36" name="__codelineno-3-36" href="#__codelineno-3-36"></a><span class="sd">        Issue certificate from AWS Private CA</span>
<a id="__codelineno-3-37" name="__codelineno-3-37" href="#__codelineno-3-37"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-3-38" name="__codelineno-3-38" href="#__codelineno-3-38"></a>        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">acm_pca</span><span class="o">.</span><span class="n">issue_certificate</span><span class="p">(</span>
<a id="__codelineno-3-39" name="__codelineno-3-39" href="#__codelineno-3-39"></a>            <span class="n">CertificateAuthorityArn</span><span class="o">=</span><span class="n">ca_arn</span><span class="p">,</span>
<a id="__codelineno-3-40" name="__codelineno-3-40" href="#__codelineno-3-40"></a>            <span class="n">Csr</span><span class="o">=</span><span class="n">csr</span><span class="p">,</span>
<a id="__codelineno-3-41" name="__codelineno-3-41" href="#__codelineno-3-41"></a>            <span class="n">SigningAlgorithm</span><span class="o">=</span><span class="s1">&#39;SHA256WITHRSA&#39;</span><span class="p">,</span>
<a id="__codelineno-3-42" name="__codelineno-3-42" href="#__codelineno-3-42"></a>            <span class="n">Validity</span><span class="o">=</span><span class="p">{</span>
<a id="__codelineno-3-43" name="__codelineno-3-43" href="#__codelineno-3-43"></a>                <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;DAYS&#39;</span><span class="p">,</span>
<a id="__codelineno-3-44" name="__codelineno-3-44" href="#__codelineno-3-44"></a>                <span class="s1">&#39;Value&#39;</span><span class="p">:</span> <span class="mi">365</span>
<a id="__codelineno-3-45" name="__codelineno-3-45" href="#__codelineno-3-45"></a>            <span class="p">}</span>
<a id="__codelineno-3-46" name="__codelineno-3-46" href="#__codelineno-3-46"></a>        <span class="p">)</span>
<a id="__codelineno-3-47" name="__codelineno-3-47" href="#__codelineno-3-47"></a>
<a id="__codelineno-3-48" name="__codelineno-3-48" href="#__codelineno-3-48"></a>        <span class="n">certificate_arn</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;CertificateArn&#39;</span><span class="p">]</span>
<a id="__codelineno-3-49" name="__codelineno-3-49" href="#__codelineno-3-49"></a>
<a id="__codelineno-3-50" name="__codelineno-3-50" href="#__codelineno-3-50"></a>        <span class="c1"># Retrieve issued certificate</span>
<a id="__codelineno-3-51" name="__codelineno-3-51" href="#__codelineno-3-51"></a>        <span class="n">cert_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">acm_pca</span><span class="o">.</span><span class="n">get_certificate</span><span class="p">(</span>
<a id="__codelineno-3-52" name="__codelineno-3-52" href="#__codelineno-3-52"></a>            <span class="n">CertificateAuthorityArn</span><span class="o">=</span><span class="n">ca_arn</span><span class="p">,</span>
<a id="__codelineno-3-53" name="__codelineno-3-53" href="#__codelineno-3-53"></a>            <span class="n">CertificateArn</span><span class="o">=</span><span class="n">certificate_arn</span>
<a id="__codelineno-3-54" name="__codelineno-3-54" href="#__codelineno-3-54"></a>        <span class="p">)</span>
<a id="__codelineno-3-55" name="__codelineno-3-55" href="#__codelineno-3-55"></a>
<a id="__codelineno-3-56" name="__codelineno-3-56" href="#__codelineno-3-56"></a>        <span class="k">return</span> <span class="n">cert_response</span><span class="p">[</span><span class="s1">&#39;Certificate&#39;</span><span class="p">]</span>
<a id="__codelineno-3-57" name="__codelineno-3-57" href="#__codelineno-3-57"></a>
<a id="__codelineno-3-58" name="__codelineno-3-58" href="#__codelineno-3-58"></a><span class="c1"># Pricing (approximate):</span>
<a id="__codelineno-3-59" name="__codelineno-3-59" href="#__codelineno-3-59"></a><span class="n">pricing</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-3-60" name="__codelineno-3-60" href="#__codelineno-3-60"></a>    <span class="s1">&#39;private_ca&#39;</span><span class="p">:</span> <span class="s1">&#39;$400/month per CA&#39;</span><span class="p">,</span>
<a id="__codelineno-3-61" name="__codelineno-3-61" href="#__codelineno-3-61"></a>    <span class="s1">&#39;certificates&#39;</span><span class="p">:</span> <span class="s1">&#39;$0.75 per certificate issued&#39;</span><span class="p">,</span>
<a id="__codelineno-3-62" name="__codelineno-3-62" href="#__codelineno-3-62"></a>    <span class="s1">&#39;note&#39;</span><span class="p">:</span> <span class="s1">&#39;Significant cost for high-volume issuance&#39;</span>
<a id="__codelineno-3-63" name="__codelineno-3-63" href="#__codelineno-3-63"></a><span class="p">}</span>
</code></pre></div>
<p><strong>AWS CloudHSM</strong>:
- FIPS 140-2 Level 3 validated HSMs
- Customer controls keys completely
- Cluster for high availability
- No AWS access to key material</p>
<p>Considerations:
- $1.45/hour per HSM (~$1,000/month)
- Minimum 2 HSMs per cluster for HA
- Customer manages HSM
- Requires PKCS#11, JCE, or CNG integration</p>
<h3 id="azure-pki-services">Azure PKI Services</h3>
<p><strong>Azure Key Vault</strong>:
- Managed key and secret storage
- Integrated with Azure services
- Two tiers: Standard (software) and Premium (HSM-backed)</p>
<p><strong>Azure Key Vault - Managed HSM</strong>:
- FIPS 140-2 Level 3 HSMs
- Dedicated HSM pool
- Customer controls keys
- Higher cost than standard Key Vault</p>
<p><strong>Azure Dedicated HSM</strong>:
- Entire HSM dedicated to customer
- Most control and isolation
- Thales Luna Network HSM
- Highest cost option</p>
<h3 id="gcp-pki-services">GCP PKI Services</h3>
<p><strong>Certificate Authority Service (CAS)</strong>:
- Fully managed private CA
- Regional and global deployment
- Automatic key rotation
- Integration with GCP services</p>
<p><strong>Cloud HSM</strong>:
- FIPS 140-2 Level 3 HSMs
- Customer-controlled keys
- Integration with Cloud KMS</p>
<h2 id="architecture-patterns">Architecture Patterns</h2>
<h3 id="root-ca-on-premises-issuing-ca-in-cloud">Root CA On-Premises, Issuing CA in Cloud</h3>
<p><strong>Implementation</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>1. On-Premises Root CA:
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>   - Physical HSM (Thales Luna)
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>   - Air-gapped network
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>   - Offline except for ceremonies
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>   - Certificate validity: 10-20 years
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>2. Cloud Issuing CAs:
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>   - AWS CloudHSM or Azure Key Vault
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>   - Auto-scaling instances
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>   - Automated certificate issuance
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>   - Certificate validity: 3-5 years
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>3. Certificate Signing Ceremony:
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>   - Quarterly or as-needed
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>   - Bring root CA online temporarily
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>   - Sign new issuing CA certificates
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>   - Return root CA offline
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>4. Operations:
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a>   - Day-to-day issuance in cloud
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a>   - No root CA involvement
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a>   - Issuing CA handles all end-entity certificates
</code></pre></div>
<p><strong>Advantages</strong>:
- Root CA maximum security (offline, on-premises)
- Operational efficiency (cloud scaling)
- Compliance (physical control of root)
- Cost-effective (only pay for issuing CA usage)</p>
<p><strong>Implementation example</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">HybridPKIArchitecture</span><span class="p">:</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="sd">    Hybrid PKI: On-premises root, cloud issuing</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>        <span class="c1"># On-premises root CA</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root_ca</span> <span class="o">=</span> <span class="n">OnPremisesRootCA</span><span class="p">(</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>            <span class="n">location</span><span class="o">=</span><span class="s1">&#39;primary_datacenter&#39;</span><span class="p">,</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>            <span class="n">hsm</span><span class="o">=</span><span class="s1">&#39;thales_luna_sa_7&#39;</span><span class="p">,</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>            <span class="n">key_size</span><span class="o">=</span><span class="mi">4096</span><span class="p">,</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>            <span class="n">validity_years</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>            <span class="n">access_model</span><span class="o">=</span><span class="s1">&#39;ceremony_only&#39;</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>        <span class="p">)</span>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>        <span class="c1"># Cloud issuing CAs</span>
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cloud_issuing_cas</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>            <span class="s1">&#39;tls&#39;</span><span class="p">:</span> <span class="n">CloudIssuingCA</span><span class="p">(</span>
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>                <span class="n">cloud_provider</span><span class="o">=</span><span class="s1">&#39;aws&#39;</span><span class="p">,</span>
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>                <span class="n">service</span><span class="o">=</span><span class="s1">&#39;private_ca&#39;</span><span class="p">,</span>
<a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a>                <span class="n">region</span><span class="o">=</span><span class="s1">&#39;us-east-1&#39;</span><span class="p">,</span>
<a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a>                <span class="n">purpose</span><span class="o">=</span><span class="s1">&#39;tls_server_auth&#39;</span><span class="p">,</span>
<a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a>                <span class="n">validity_years</span><span class="o">=</span><span class="mi">5</span>
<a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a>            <span class="p">),</span>
<a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a>            <span class="s1">&#39;code_signing&#39;</span><span class="p">:</span> <span class="n">CloudIssuingCA</span><span class="p">(</span>
<a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a>                <span class="n">cloud_provider</span><span class="o">=</span><span class="s1">&#39;aws&#39;</span><span class="p">,</span>
<a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a>                <span class="n">service</span><span class="o">=</span><span class="s1">&#39;private_ca&#39;</span><span class="p">,</span>
<a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a>                <span class="n">region</span><span class="o">=</span><span class="s1">&#39;us-east-1&#39;</span><span class="p">,</span>
<a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a>                <span class="n">purpose</span><span class="o">=</span><span class="s1">&#39;code_signing&#39;</span><span class="p">,</span>
<a id="__codelineno-5-30" name="__codelineno-5-30" href="#__codelineno-5-30"></a>                <span class="n">validity_years</span><span class="o">=</span><span class="mi">3</span>
<a id="__codelineno-5-31" name="__codelineno-5-31" href="#__codelineno-5-31"></a>            <span class="p">)</span>
<a id="__codelineno-5-32" name="__codelineno-5-32" href="#__codelineno-5-32"></a>        <span class="p">}</span>
<a id="__codelineno-5-33" name="__codelineno-5-33" href="#__codelineno-5-33"></a>
<a id="__codelineno-5-34" name="__codelineno-5-34" href="#__codelineno-5-34"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">quarterly_signing_ceremony</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-5-35" name="__codelineno-5-35" href="#__codelineno-5-35"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-5-36" name="__codelineno-5-36" href="#__codelineno-5-36"></a><span class="sd">        Bring root CA online to sign issuing CA certificates</span>
<a id="__codelineno-5-37" name="__codelineno-5-37" href="#__codelineno-5-37"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-5-38" name="__codelineno-5-38" href="#__codelineno-5-38"></a>        <span class="c1"># 1. Schedule ceremony</span>
<a id="__codelineno-5-39" name="__codelineno-5-39" href="#__codelineno-5-39"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">schedule_ceremony</span><span class="p">(</span>
<a id="__codelineno-5-40" name="__codelineno-5-40" href="#__codelineno-5-40"></a>            <span class="n">participants</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ciso&#39;</span><span class="p">,</span> <span class="s1">&#39;pki_admin&#39;</span><span class="p">,</span> <span class="s1">&#39;security_auditor&#39;</span><span class="p">],</span>
<a id="__codelineno-5-41" name="__codelineno-5-41" href="#__codelineno-5-41"></a>            <span class="n">witnesses</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;external_auditor&#39;</span><span class="p">]</span>
<a id="__codelineno-5-42" name="__codelineno-5-42" href="#__codelineno-5-42"></a>        <span class="p">)</span>
<a id="__codelineno-5-43" name="__codelineno-5-43" href="#__codelineno-5-43"></a>
<a id="__codelineno-5-44" name="__codelineno-5-44" href="#__codelineno-5-44"></a>        <span class="c1"># 2. Bring root CA online (physical presence required)</span>
<a id="__codelineno-5-45" name="__codelineno-5-45" href="#__codelineno-5-45"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root_ca</span><span class="o">.</span><span class="n">bring_online</span><span class="p">()</span>
<a id="__codelineno-5-46" name="__codelineno-5-46" href="#__codelineno-5-46"></a>
<a id="__codelineno-5-47" name="__codelineno-5-47" href="#__codelineno-5-47"></a>        <span class="c1"># 3. Generate new issuing CA keys in cloud</span>
<a id="__codelineno-5-48" name="__codelineno-5-48" href="#__codelineno-5-48"></a>        <span class="k">for</span> <span class="n">ca_name</span><span class="p">,</span> <span class="n">issuing_ca</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cloud_issuing_cas</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-5-49" name="__codelineno-5-49" href="#__codelineno-5-49"></a>            <span class="c1"># Generate CSR in cloud</span>
<a id="__codelineno-5-50" name="__codelineno-5-50" href="#__codelineno-5-50"></a>            <span class="n">csr</span> <span class="o">=</span> <span class="n">issuing_ca</span><span class="o">.</span><span class="n">generate_csr</span><span class="p">()</span>
<a id="__codelineno-5-51" name="__codelineno-5-51" href="#__codelineno-5-51"></a>
<a id="__codelineno-5-52" name="__codelineno-5-52" href="#__codelineno-5-52"></a>            <span class="c1"># Send CSR to root CA (offline transfer)</span>
<a id="__codelineno-5-53" name="__codelineno-5-53" href="#__codelineno-5-53"></a>            <span class="c1"># Sign with root CA</span>
<a id="__codelineno-5-54" name="__codelineno-5-54" href="#__codelineno-5-54"></a>            <span class="n">signed_cert</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_ca</span><span class="o">.</span><span class="n">sign_certificate</span><span class="p">(</span><span class="n">csr</span><span class="p">)</span>
<a id="__codelineno-5-55" name="__codelineno-5-55" href="#__codelineno-5-55"></a>
<a id="__codelineno-5-56" name="__codelineno-5-56" href="#__codelineno-5-56"></a>            <span class="c1"># Deploy signed certificate to cloud</span>
<a id="__codelineno-5-57" name="__codelineno-5-57" href="#__codelineno-5-57"></a>            <span class="n">issuing_ca</span><span class="o">.</span><span class="n">install_certificate</span><span class="p">(</span><span class="n">signed_cert</span><span class="p">)</span>
<a id="__codelineno-5-58" name="__codelineno-5-58" href="#__codelineno-5-58"></a>
<a id="__codelineno-5-59" name="__codelineno-5-59" href="#__codelineno-5-59"></a>        <span class="c1"># 4. Return root CA offline</span>
<a id="__codelineno-5-60" name="__codelineno-5-60" href="#__codelineno-5-60"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root_ca</span><span class="o">.</span><span class="n">return_offline</span><span class="p">()</span>
<a id="__codelineno-5-61" name="__codelineno-5-61" href="#__codelineno-5-61"></a>
<a id="__codelineno-5-62" name="__codelineno-5-62" href="#__codelineno-5-62"></a>        <span class="c1"># 5. Document ceremony</span>
<a id="__codelineno-5-63" name="__codelineno-5-63" href="#__codelineno-5-63"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">document_ceremony</span><span class="p">()</span>
</code></pre></div>
<h3 id="fully-cloud-native-pki">Fully Cloud-Native PKI</h3>
<p><strong>For organizations born in the cloud</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">CloudNativePKI</span><span class="p">:</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="sd">    Pure cloud PKI architecture</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>        <span class="c1"># Root CA in cloud (offline instance)</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root_ca</span> <span class="o">=</span> <span class="n">AWSPrivateCA</span><span class="p">(</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>            <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;ROOT&#39;</span><span class="p">,</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>            <span class="n">key_storage</span><span class="o">=</span><span class="s1">&#39;CloudHSM&#39;</span><span class="p">,</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>            <span class="n">instance_state</span><span class="o">=</span><span class="s1">&#39;stopped&#39;</span><span class="p">,</span>  <span class="c1"># Only run during ceremonies</span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>            <span class="n">backup_strategy</span><span class="o">=</span><span class="s1">&#39;cross_region_replication&#39;</span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>        <span class="p">)</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>        <span class="c1"># Issuing CAs (active)</span>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">issuing_cas</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>            <span class="n">AWSPrivateCA</span><span class="p">(</span>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a>                <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;SUBORDINATE&#39;</span><span class="p">,</span>
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>                <span class="n">purpose</span><span class="o">=</span><span class="s1">&#39;tls&#39;</span><span class="p">,</span>
<a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">root_ca</span><span class="p">,</span>
<a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a>                <span class="n">key_storage</span><span class="o">=</span><span class="s1">&#39;CloudHSM&#39;</span><span class="p">,</span>
<a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a>                <span class="n">high_availability</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a>                <span class="n">auto_scaling</span><span class="o">=</span><span class="kc">True</span>
<a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a>            <span class="p">),</span>
<a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a>            <span class="n">AWSPrivateCA</span><span class="p">(</span>
<a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a>                <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;SUBORDINATE&#39;</span><span class="p">,</span>
<a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a>                <span class="n">purpose</span><span class="o">=</span><span class="s1">&#39;code_signing&#39;</span><span class="p">,</span>
<a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">root_ca</span><span class="p">,</span>
<a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a>                <span class="n">key_storage</span><span class="o">=</span><span class="s1">&#39;CloudHSM&#39;</span><span class="p">,</span>
<a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a>                <span class="n">high_availability</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-6-31" name="__codelineno-6-31" href="#__codelineno-6-31"></a>                <span class="n">auto_scaling</span><span class="o">=</span><span class="kc">False</span>
<a id="__codelineno-6-32" name="__codelineno-6-32" href="#__codelineno-6-32"></a>            <span class="p">)</span>
<a id="__codelineno-6-33" name="__codelineno-6-33" href="#__codelineno-6-33"></a>        <span class="p">]</span>
<a id="__codelineno-6-34" name="__codelineno-6-34" href="#__codelineno-6-34"></a>
<a id="__codelineno-6-35" name="__codelineno-6-35" href="#__codelineno-6-35"></a>        <span class="c1"># Certificate issuance API</span>
<a id="__codelineno-6-36" name="__codelineno-6-36" href="#__codelineno-6-36"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api</span> <span class="o">=</span> <span class="n">APIGateway</span><span class="p">(</span>
<a id="__codelineno-6-37" name="__codelineno-6-37" href="#__codelineno-6-37"></a>            <span class="n">backend</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">issuing_cas</span><span class="p">,</span>
<a id="__codelineno-6-38" name="__codelineno-6-38" href="#__codelineno-6-38"></a>            <span class="n">authentication</span><span class="o">=</span><span class="s1">&#39;IAM&#39;</span><span class="p">,</span>
<a id="__codelineno-6-39" name="__codelineno-6-39" href="#__codelineno-6-39"></a>            <span class="n">rate_limiting</span><span class="o">=</span><span class="kc">True</span>
<a id="__codelineno-6-40" name="__codelineno-6-40" href="#__codelineno-6-40"></a>        <span class="p">)</span>
<a id="__codelineno-6-41" name="__codelineno-6-41" href="#__codelineno-6-41"></a>
<a id="__codelineno-6-42" name="__codelineno-6-42" href="#__codelineno-6-42"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">root_ca_ceremony</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-6-43" name="__codelineno-6-43" href="#__codelineno-6-43"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-6-44" name="__codelineno-6-44" href="#__codelineno-6-44"></a><span class="sd">        Start root CA instance only for signing</span>
<a id="__codelineno-6-45" name="__codelineno-6-45" href="#__codelineno-6-45"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-6-46" name="__codelineno-6-46" href="#__codelineno-6-46"></a>        <span class="c1"># 1. Start root CA instance (requires approval)</span>
<a id="__codelineno-6-47" name="__codelineno-6-47" href="#__codelineno-6-47"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root_ca</span><span class="o">.</span><span class="n">start_instance</span><span class="p">()</span>
<a id="__codelineno-6-48" name="__codelineno-6-48" href="#__codelineno-6-48"></a>
<a id="__codelineno-6-49" name="__codelineno-6-49" href="#__codelineno-6-49"></a>        <span class="c1"># 2. Wait for initialization</span>
<a id="__codelineno-6-50" name="__codelineno-6-50" href="#__codelineno-6-50"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root_ca</span><span class="o">.</span><span class="n">wait_until_ready</span><span class="p">()</span>
<a id="__codelineno-6-51" name="__codelineno-6-51" href="#__codelineno-6-51"></a>
<a id="__codelineno-6-52" name="__codelineno-6-52" href="#__codelineno-6-52"></a>        <span class="c1"># 3. Perform signing operations</span>
<a id="__codelineno-6-53" name="__codelineno-6-53" href="#__codelineno-6-53"></a>        <span class="c1"># ... sign issuing CA certificates ...</span>
<a id="__codelineno-6-54" name="__codelineno-6-54" href="#__codelineno-6-54"></a>
<a id="__codelineno-6-55" name="__codelineno-6-55" href="#__codelineno-6-55"></a>        <span class="c1"># 4. Stop root CA instance</span>
<a id="__codelineno-6-56" name="__codelineno-6-56" href="#__codelineno-6-56"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root_ca</span><span class="o">.</span><span class="n">stop_instance</span><span class="p">()</span>
<a id="__codelineno-6-57" name="__codelineno-6-57" href="#__codelineno-6-57"></a>
<a id="__codelineno-6-58" name="__codelineno-6-58" href="#__codelineno-6-58"></a>        <span class="c1"># Cost: Only pay for time instance is running</span>
<a id="__codelineno-6-59" name="__codelineno-6-59" href="#__codelineno-6-59"></a>        <span class="c1"># Security: Root CA not accessible most of the time</span>
</code></pre></div>
<p><strong>Security considerations</strong>:
- CloudHSM provides FIPS 140-2 Level 3
- No AWS access to key material
- Still internet-connected (even if stopped)
- VPC isolation critical
- MFA required for all root CA operations</p>
<h3 id="multi-cloud-pki">Multi-Cloud PKI</h3>
<p><strong>For vendor diversification</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>    Primary Cloud (AWS)              Secondary Cloud (Azure)
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>┌──────────────────────────┐     ┌──────────────────────────┐
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>│  ┌─────────────────┐     │     │     ┌─────────────────┐  │
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>│  │  Issuing CA 1   │     │     │     │  Issuing CA 2   │  │
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>│  │   (CloudHSM)    │     │     │     │  (Key Vault)    │  │
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>│  └─────────────────┘     │     │     └─────────────────┘  │
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>│                          │     │                          │
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>│  Primary for production  │     │  DR / secondary region  │
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>└──────────────────────────┘     └──────────────────────────┘
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>           │                               │
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>           └─────────── Same Root CA ──────┘
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>              (On-premises or one cloud)
</code></pre></div>
<p><strong>Advantages</strong>:
- No single cloud vendor dependency
- Geographic diversity
- Compliance with multi-cloud strategies
- Disaster recovery across clouds</p>
<p><strong>Disadvantages</strong>:
- Highest operational complexity
- Multiple vendor relationships
- Different APIs and capabilities
- Higher cost (redundant infrastructure)</p>
<h2 id="cost-comparison">Cost Comparison</h2>
<h3 id="on-premises-costs">On-Premises Costs</h3>
<p>Initial setup:
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>Hardware:
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>- HSM (2x Thales Luna SA 7): $80,000
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>- Servers (4x Dell): $40,000
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>- Network equipment: $10,000
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>- Datacenter setup: $20,000
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>Total initial: ~$150,000
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>Annual recurring:
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>- Hardware maintenance: $20,000
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>- Datacenter space/power: $15,000
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>- Staff (2 FTE): $250,000
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>- Software licenses: $10,000
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>Total annual: ~$295,000
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a>5-year TCO: ~$1,625,000
</code></pre></div></p>
<h3 id="cloud-costs-aws-example">Cloud Costs (AWS Example)</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>AWS Private CA:
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>- 2x Private CAs: $800/month = $9,600/year
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>- Certificates (10,000/year): $7,500/year
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>- CloudHSM (2x HSMs): $2,000/month = $24,000/year
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>- EC2 instances (CA servers): $5,000/year
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>- Data transfer: $2,000/year
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>Total annual: ~$48,100
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>5-year TCO: ~$240,500
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>Note: Scales with certificate volume
</code></pre></div>
<h3 id="cost-crossover-analysis">Cost Crossover Analysis</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">calculate_tco</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">years</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">cert_volume</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="sd">    Calculate total cost of ownership</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>    <span class="k">if</span> <span class="n">model</span> <span class="o">==</span> <span class="s1">&#39;on_premises&#39;</span><span class="p">:</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>        <span class="n">initial_capex</span> <span class="o">=</span> <span class="mi">150000</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>        <span class="n">annual_opex</span> <span class="o">=</span> <span class="mi">295000</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>        <span class="n">cost_per_cert</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Marginal cost ~zero</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>        <span class="k">return</span> <span class="n">initial_capex</span> <span class="o">+</span> <span class="p">(</span><span class="n">annual_opex</span> <span class="o">*</span> <span class="n">years</span><span class="p">)</span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>    <span class="k">elif</span> <span class="n">model</span> <span class="o">==</span> <span class="s1">&#39;cloud&#39;</span><span class="p">:</span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a>        <span class="c1"># No capex</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a>        <span class="n">annual_base</span> <span class="o">=</span> <span class="mi">41600</span>  <span class="c1"># CA + HSM + infrastructure</span>
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>        <span class="n">cost_per_cert</span> <span class="o">=</span> <span class="mf">0.75</span>
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a>
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a>        <span class="n">annual_cert_cost</span> <span class="o">=</span> <span class="n">cert_volume</span> <span class="o">*</span> <span class="n">cost_per_cert</span>
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a>        <span class="n">annual_total</span> <span class="o">=</span> <span class="n">annual_base</span> <span class="o">+</span> <span class="n">annual_cert_cost</span>
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a>
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a>        <span class="k">return</span> <span class="n">annual_total</span> <span class="o">*</span> <span class="n">years</span>
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a>
<a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a><span class="c1"># Crossover analysis:</span>
<a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a><span class="c1"># On-premises: Fixed high cost</span>
<a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a><span class="c1"># Cloud: Lower base, scales with volume</span>
<a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a>
<a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a><span class="c1"># Example:</span>
<a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a><span class="c1"># 10,000 certs/year:</span>
<a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a><span class="c1">#   On-prem 5yr: $1,625,000</span>
<a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a><span class="c1">#   Cloud 5yr: $240,500</span>
<a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a><span class="c1">#   Winner: Cloud</span>
<a id="__codelineno-10-31" name="__codelineno-10-31" href="#__codelineno-10-31"></a>
<a id="__codelineno-10-32" name="__codelineno-10-32" href="#__codelineno-10-32"></a><span class="c1"># 100,000 certs/year:</span>
<a id="__codelineno-10-33" name="__codelineno-10-33" href="#__codelineno-10-33"></a><span class="c1">#   On-prem 5yr: $1,625,000</span>
<a id="__codelineno-10-34" name="__codelineno-10-34" href="#__codelineno-10-34"></a><span class="c1">#   Cloud 5yr: $583,000</span>
<a id="__codelineno-10-35" name="__codelineno-10-35" href="#__codelineno-10-35"></a><span class="c1">#   Winner: Cloud</span>
<a id="__codelineno-10-36" name="__codelineno-10-36" href="#__codelineno-10-36"></a>
<a id="__codelineno-10-37" name="__codelineno-10-37" href="#__codelineno-10-37"></a><span class="c1"># 500,000 certs/year:</span>
<a id="__codelineno-10-38" name="__codelineno-10-38" href="#__codelineno-10-38"></a><span class="c1">#   On-prem 5yr: $1,625,000</span>
<a id="__codelineno-10-39" name="__codelineno-10-39" href="#__codelineno-10-39"></a><span class="c1">#   Cloud 5yr: $2,083,000</span>
<a id="__codelineno-10-40" name="__codelineno-10-40" href="#__codelineno-10-40"></a><span class="c1">#   Winner: On-premises</span>
<a id="__codelineno-10-41" name="__codelineno-10-41" href="#__codelineno-10-41"></a>
<a id="__codelineno-10-42" name="__codelineno-10-42" href="#__codelineno-10-42"></a><span class="c1"># Crossover: ~400,000 certificates/year</span>
</code></pre></div>
<h2 id="security-trade-offs">Security Trade-offs</h2>
<h3 id="physical-security">Physical Security</h3>
<p><strong>On-premises advantages</strong>:
- Complete physical control
- Air-gap possible for root CA
- Custom physical security measures
- No cloud provider physical access</p>
<p><strong>Cloud disadvantages</strong>:
- Cloud provider physical access
- Shared facilities (multi-tenant datacenter)
- Cannot air-gap (internet-connected)
- Trust cloud provider security</p>
<p><strong>Mitigation for cloud</strong>:
- CloudHSM ensures no provider key access
- VPC isolation
- Customer-managed encryption keys
- Regular security audits</p>
<h3 id="compliance-considerations">Compliance Considerations</h3>
<p><strong>Regulations favoring on-premises</strong>:
- ITAR (defense)
- Some national security workloads
- Banking regulations (varies by country)
- Healthcare (varies by interpretation)</p>
<p><strong>Cloud-friendly regulations</strong>:
- PCI-DSS (with CloudHSM)
- HIPAA (with proper controls)
- SOC 2
- ISO 27001</p>
<p><strong>Hybrid satisfies most</strong>:
- Root CA on-premises (ultimate control)
- Issuing CAs in cloud (compliance controls)
- Best of both for most regulations</p>
<h2 id="migration-strategies">Migration Strategies</h2>
<h3 id="on-premises-to-cloud">On-Premises to Cloud</h3>
<p>Phased migration:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>Phase 1: Preparation (Months 1-3)
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>- Assess current architecture
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>- Design cloud architecture
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>- Select cloud provider
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>- Pilot in non-production
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>Phase 2: Hybrid Operation (Months 4-12)
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>- Deploy cloud issuing CAs
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>- Migrate non-critical workloads
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>- Run parallel (on-prem + cloud)
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>- Validate operations
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>Phase 3: Primary in Cloud (Months 13-18)
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a>- Cloud handles majority of issuance
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a>- On-premises for specialized needs
<a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a>- Begin decommissioning old infrastructure
<a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a>
<a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a>Phase 4: Complete (Month 19+)
<a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a>- All issuance in cloud
<a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a>- On-premises fully decommissioned
<a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a>- Or retain for root CA only (hybrid model)
</code></pre></div>
<h3 id="cloud-to-on-premises-less-common">Cloud to On-Premises (Less Common)</h3>
<p>Reasons for reverse migration:
- Compliance requirements change
- Cost at scale
- Security requirements
- Vendor lock-in concerns</p>
<p>Similar phased approach in reverse.</p>
<h2 id="best-practices">Best Practices</h2>
<p><strong>Hybrid architecture (recommended)</strong>:
- Root CA on-premises (offline, air-gapped)
- Issuing CAs in cloud (operational, scalable)
- Best security and operational balance
- Satisfies most compliance requirements</p>
<p><strong>Pure cloud</strong>:
- Use CloudHSM or Dedicated HSM
- VPC isolation mandatory
- MFA for all sensitive operations
- Regular security audits
- Understand vendor access model</p>
<p><strong>Pure on-premises</strong>:
- Only if regulatory requirements mandate
- Or very high volume (&gt;500K certs/year)
- Ensure proper physical security
- Plan for hardware refresh
- Build operational expertise</p>
<p><strong>General</strong>:
- Match deployment model to requirements
- Don't follow blanket mandates
- Consider hybrid for flexibility
- Test disaster recovery across models
- Regular cost/benefit review</p>
<h2 id="conclusion">Conclusion</h2>
<p>The cloud versus on-premises decision for PKI is nuanced and depends on security requirements, regulatory constraints, operational capabilities, and cost considerations. There is no universal "right answer."</p>
<p>For most organizations, a hybrid model provides the optimal balance: on-premises root CA for maximum security and compliance, with cloud-based issuing CAs for operational efficiency and scalability. This architecture leverages the strengths of both models while mitigating their weaknesses.</p>
<p>Pure cloud deployments work well for cloud-native organizations with moderate security requirements and no strict data sovereignty mandates. Pure on-premises makes sense only for high-volume operations (cost crossover) or stringent regulatory requirements.</p>
<p>Evaluate your specific requirements, run the cost calculations, assess your operational capabilities, and choose the model that best fits your organization's needs. The deployment location is a means to an end—secure, compliant, cost-effective PKI operations—not an end in itself.</p>









  




                

              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/axonsecurity/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.top", "search.suggest", "search.highlight", "content.code.copy"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
  
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      var sidebar = document.querySelector('.md-sidebar--secondary .md-sidebar__scrollwrap');
      if (sidebar) {
        var disclaimer = document.createElement('div');
        disclaimer.className = 'md-sidebar-disclaimer';
        disclaimer.innerHTML = `
          <div class="md-typeset">
            <div class="admonition info">
              <p class="admonition-title">📚 Our Books</p>
              <p><a href="https://axonshield.com/book"><strong>The Invisible Certificate Management Tax and How Automation Eliminates 94% of It</strong></a></p>
            </div>
            <div class="admonition warning">
              <p class="admonition-title">⚠️ Disclaimer</p>
              <p><small>This documentation is based on "best practices". We've observed these ignore 
                unique organizational needs and often prove ineffective for long-term, sustainable 
                operations and ignore strategic advanteges of building infrastructure intelligence.</small></p>
            </div>
          </div>
        `;
        sidebar.insertBefore(disclaimer, sidebar.firstChild);
      }
    });
  </script>
  

  </body>
</html>